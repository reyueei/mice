!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof __nr_require&&__nr_require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof __nr_require&&__nr_require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports=function(a,b){return"attachEvent"in window?attachEvent("on"+a,b):"addEventListener"in window?addEventListener(a,b,!1):void 0}},{}],2:[function(a,b){function c(a,b,c,e){k[a]||(k[a]={});var f=k[a][b];return f||(k[a][b]=f={params:c||{}}),f.metrics=d(e,f.metrics),f}function d(a,b){b||(b={count:0}),b.count+=1;for(var c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c],b[c]));return b}function e(a,b){return b?(b&&!b.c&&(b={t:b.t,min:b.t,max:b.t,sos:b.t*b.t,c:1}),b.c+=1,b.t+=a,b.sos+=a*a,a>b.max&&(b.max=a),a<b.min&&(b.min=a),b):{t:a}}function f(a,b){return b?k[a]&&k[a][b]:k[a]}function g(a){for(var b,c={},d="",e=0;e<a.length;e++)d=a[e],c[d]=h(k[d]),c[d].length&&(b=!0),delete k[d];return b?c:null}function h(a){var b=[];if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}function i(a,b){"undefined"==typeof b&&(b=(new Date).getTime()),l[a]=b}function j(a,b,d){var e=l[b],f=l[d];"undefined"!=typeof e&&"undefined"!=typeof f&&c("measures",a,{value:f-e})}var k={},l={};b.exports={store:c,take:g,get:f,mark:i,measure:j}},{}],3:[function(a,b){function c(a){return i[a]}function d(a){return encodeURIComponent(a).replace(m,c)}function e(a,b){for(var c=0,d=0;d<a.length;d++)if(c+=a[d].length,c>b)return a.slice(0,d).join("");return a.join("")}function f(a,b){var c,e,f,g=0,h="";for(e in a){var i=a[e],j=[];if(a.hasOwnProperty(e)&&i.length){for(g+=9,f=0;f<i.length&&(c=d(k(i[f])),g+=c.length,!(g>=b));f++)j.push(c);h+="&"+e+"=%5B"+j.join(",")+"%5D"}}return h}function g(a,b){return b&&"string"==typeof b?"&"+a+"="+d(b):""}var h=[],i={"%2C":",","%3A":":","%2F":"/","%40":"@","%24":"$","%3B":";"},j=a("./stringify"),k="JSON"in window&&JSON.stringify||j;for(var l in i)i.hasOwnProperty(l)&&h.push(l);var m=new RegExp(h.join("|"),"g");b.exports={obj:f,fromArray:e,qs:d,param:g}},{"./stringify":12}],4:[function(a,b){function c(a){return a&&a.url?a.jsonp?c.jsonp(a.url):c.img(a.url):!1}b.exports=c,c.jsonp=function(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.body.appendChild(b)},c.img=function(a){var b=new Image;b.src=a}},{}],5:[function(a,b){function c(a,b){if(a.info.beacon){a.info.queueTime&&b.store("measures","qt",{value:a.info.queueTime}),a.info.applicationTime&&b.store("measures","ap",{value:a.info.applicationTime}),b.measure("be","starttime","firstbyte"),b.measure("fe","firstbyte","onload"),b.measure("dc","firstbyte","domContent");var c=b.get("measures"),d="";for(var e in c)d+="&"+e+"="+c[e].params.value;if(d){var f="1",h=["?a="+a.info.applicationID];if(h.push(d),h.push(m("tt",a.info.ttGuid)),h.push(m("us",a.info.user)),h.push(m("ac",a.info.account)),h.push(m("pr",a.info.product)),h.push(m("tk",a.info.agentToken)),h.push(m("v",q)),h.push(g(a)),r&&h.push("&jsonp=NREUM.setToken"),j&&j.timing){var i={};i.timing=k.addPT(j.timing,{}),i.navigation=k.addPN(j.navigation,{}),h.push(m("perf",p(i)))}h.push(m("xx",a.info.extra)),h.push(m("ua",a.info.userAttributes)),o({url:a.proto+a.info.beacon+"/"+f+"/"+a.info.licenseKey+l.fromArray(h,a.maxBytes),jsonp:r})}}}function d(a,b){if(!a.info.errorBeacon)return!1;var c=b.take(t);if(!c)return!1;var d="https://"+a.info.errorBeacon+"/jserrors/1/"+a.info.licenseKey;return d+="?a="+a.info.applicationID,d+=m("pl",""+a.offset),d+=m("v",q),d+=g(a),d+=l.obj(c,a.maxBytes),c.err&&c.err.length&&!s&&(d+=m("pve","1"),s=!0),o({url:d}),!0}function e(a){if(a.info.errorBeacon&&a.ieVersion){var b="https://"+a.info.errorBeacon+"/jserrors/ping/"+a.info.licenseKey;b+="?a="+a.info.applicationID,b+=m("v",q),b+=g(a),o({url:b})}}function f(a,b,c){function f(){var g=d(b,c);return g||e(b,c),setTimeout(f,a)}if(b.fh)return e(b,c),setTimeout(f,a)}function g(a){return a.info.transactionName?m("to",a.info.transactionName):m("t",a.info.tNamePlain)}function h(a){t.push(a)}var i=a("lodash.once"),j=a("./perf"),k=a("./nav-timing"),l=a("./encode"),m=l.param,n=a("./stringify"),o=a("./fetch"),p="JSON"in window&&JSON.stringify||n,q="338.cc9a10f",r=window.self===window.parent,s=!1,t=[];b.exports={sendBeacon:i(c),sendErrors:d,cycle:f,include:h}},{"./encode":3,"./fetch":4,"./nav-timing":7,"./perf":8,"./stringify":12,"lodash.once":21}],6:[function(a){function b(a){e=a}function c(a,b,c,d,e,f){if(o+=1,n.info.beacon){var g=n.proto+n.info.beacon+"/1/"+n.info.licenseKey;g+="?a="+n.info.applicationID+"&",g+="t="+a+"&",g+="qt="+b+"&",g+="ap="+c+"&",g+="be="+d+"&",g+="dc="+e+"&",g+="fe="+f+"&",g+="c="+o,k({url:g})}}function d(a){var b="s";if("pagehide"===a.type&&(b="h"),h.navCookie&&(document.cookie="NREUM="+b+"="+Number(new Date)+"&r="+f(document.location.href)+"&p="+f(document.referrer)+"; path=/"),e){var c=(new Date).getTime()+1e3;document.cookie="NRAGENT=tk="+e+"; max-age=1; path=/; expires="+new Date(c).toGMTString()}}var e,f=a("./s-hash"),g=a("./add-e"),h=a("./start-time"),i=a("./aggregator"),j=a("lodash.once"),k=a("./fetch"),l=a("./harvest"),m=a("./register-handler"),n=a("loader"),o=0,p="undefined"!=typeof window.NREUM.autorun?window.NREUM.autorun:!0,q=document.createElement("div");q.innerHTML="<!--[if lte IE 6]><div></div><![endif]--><!--[if lte IE 8]><div></div><![endif]-->";var r=q.getElementsByTagName("div").length;2===r?n.ieVersion=6:1===r&&(n.ieVersion=7),n.maxBytes=6===n.ieVersion?2e3:3e4;var s=j(d);g("beforeunload",s),g("pagehide",s),g("unload",function(){l.sendErrors(n,i)}),m("mark",i.mark),l.cycle(6e4,n,i),i.mark("done"),p&&l.sendBeacon(n,i),window.NREUM.setToken=b,window.NREUM.inlineHit=c},{"./add-e":1,"./aggregator":2,"./fetch":4,"./harvest":5,"./register-handler":9,"./s-hash":10,"./start-time":11,"lodash.once":21}],7:[function(a,b){function c(a,b){var c=a.navigationStart;return b.of=c,e(a.navigationStart,c,b,"n"),e(a.unloadEventStart,c,b,"u"),e(a.unloadEventEnd,c,b,"ue"),e(a.domLoading,c,b,"dl"),e(a.domInteractive,c,b,"di"),e(a.domContentLoadedEventStart,c,b,"ds"),e(a.domContentLoadedEventEnd,c,b,"de"),e(a.domComplete,c,b,"dc"),e(a.loadEventStart,c,b,"l"),e(a.loadEventEnd,c,b,"le"),e(a.redirectStart,c,b,"r"),e(a.redirectEnd,c,b,"re"),e(a.fetchStart,c,b,"f"),e(a.domainLookupStart,c,b,"dn"),e(a.domainLookupEnd,c,b,"dne"),e(a.connectStart,c,b,"c"),e(a.connectEnd,c,b,"ce"),e(a.secureConnectionStart,c,b,"s"),e(a.requestStart,c,b,"rq"),e(a.responseStart,c,b,"rp"),e(a.responseEnd,c,b,"rpe"),b}function d(a,b){return e(a.type,0,b,"ty"),e(a.redirectCount,0,b,"rc"),b}function e(a,b,c,d){"number"==typeof a&&a>0&&(c[d]=Math.round(a-b))}b.exports={addPT:c,addPN:d}},{}],8:[function(a,b){function c(){var a=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;return"undefined"!=typeof a&&"undefined"!=typeof a.timing?a:null}b.exports=c()},{}],9:[function(a,b){function c(a,b){if(d.handlers[a])return!1;d.handlers[a]=b;var c=d.queues[a];if(c){for(var e=0;e<c.length;e++)b.apply(this,c[e]);delete d.queues[a]}return!0}var d=a("handle");b.exports=c},{}],10:[function(a,b){function c(a){var b,c=0;for(b=0;b<a.length;b++)c+=(b+1)*a.charCodeAt(b);return Math.abs(c)}b.exports=c},{}],11:[function(a,b){function c(){var a=d()||e();a&&h.mark("starttime",a)}function d(){var a=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);if(a){var c=+a[1];if(9>c)return}return f&&"undefined"!=typeof f.timing.navigationStart?(b.exports.navCookie=!1,f.timing.navigationStart):void 0}function e(){for(var a=document.cookie.split(" "),b=0;b<a.length;b++)if(0===a[b].indexOf("NREUM=")){for(var c,d,e,f,i=a[b].substring("NREUM=".length).split("&"),j=0;j<i.length;j++)0===i[j].indexOf("s=")?e=i[j].substring(2):0===i[j].indexOf("h=")?(e=i[j].substring(2),h.store("measures","ph",{value:1})):0===i[j].indexOf("p=")?(d=i[j].substring(2),";"===d.charAt(d.length-1)&&(d=d.substr(0,d.length-1))):0===i[j].indexOf("r=")&&(c=i[j].substring(2),";"===c.charAt(c.length-1)&&(c=c.substr(0,c.length-1)));if(c){var k=g(document.referrer);f=k==c,f||(f=g(document.location.href)==c&&k==d)}if(f&&e){var l=(new Date).getTime();if(l-e>6e4)return;return e}}}var f=a("./perf"),g=a("./s-hash"),h=a("./aggregator");b.exports={navCookie:!0},c()},{"./aggregator":2,"./perf":8,"./s-hash":10}],12:[function(a,b){function c(a){return e("",{"":a})}function d(a){return f.lastIndex=0,f.test(a)?'"'+a.replace(f,function(a){var b=g[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,b){var c=b[a];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a)),typeof c){case"string":return d(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var f=[];if("[object Array]"===Object.prototype.toString.apply(c)){for(var g=c.length,h=0;g>h;h+=1)f[h]=e(h,c)||"null";return 0===f.length?"[]":"["+f.join(",")+"]"}for(var i in c)if(Object.prototype.hasOwnProperty.call(c,i)){var j=e(i,c);j&&f.push(d(i)+":"+j)}return 0===f.length?"{}":"{"+f.join(",")+"}"}}var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};b.exports=c},{}],13:[function(a,b){function c(a){if(a){var b=a.match(d);return b?b[1]:void 0}}var d=/([a-z0-9]+)$/i;b.exports=c},{}],14:[function(a,b){function c(a){return a?a.replace(d,"\n").replace(e,""):null}b.exports=c;var d=/(\n|^).*nrWrapper.*($|\n)/,e=/^\n+|\n+$/g},{}],15:[function(a,b){function c(a){var b=a.match(d);return b?b[3]?b[1]+b[3]:b[1]:null}b.exports=c;var d=/^([^?]+)(\?[^#]*)?(#.*)?$/},{}],16:[function(a,b){function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(){function a(a){var b=j.exec(String(a.constructor));return b&&b.length>1?b[1]:"unknown"}function b(b){if(!b.stack)return null;for(var c,d,e=/^\s*at (?:((?:\[object object\])?(?:[^(]*\([^)]*\))*[^()]*(?: \[as \S+\])?) )?\(?((?:file|http|https|chrome-extension):.*?)?:(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(?:(\S*)(?:\(.*?\))?@)?((?:file|http|https|chrome).*?):(\d+)(?::(\d+))?\s*$/i,g=/^\s*at .+ \(eval at \S+ \((?:(?:file|http|https):[^)]+)?\)(?:, [^:]*:\d+:\d+)?\)$/i,h=/^\s*at Function code \(Function code:\d+:\d+\)\s*/i,i=b.stack.split("\n"),j=[],k=(/^(.*) is undefined$/.exec(b.message),0),l=i.length;l>k;++k){if(c=f.exec(i[k]))d={url:c[2],func:c[1]||null,line:+c[3],column:c[4]?+c[4]:null};else if(c=e.exec(i[k]))d={url:c[2],func:c[1]||null,line:+c[3],column:c[4]?+c[4]:null},"Anonymous function"===d.func&&(d.func=null);else{if(!g.exec(i[k])&&!h.exec(i[k])&&"anonymous"!==i[k])continue;d={func:"evaluated code"}}j.push(d)}return j.length?{mode:"stack",name:b.name||a(b),message:b.message,stack:j}:null}function d(b){for(var c,d=b.stacktrace,e=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\(.*\) in (.*):\s*$/i,f=d.split("\n"),g=[],h=0,i=f.length;i>h;h+=2)if(c=e.exec(f[h])){var j={line:+c[1],column:+c[2],func:c[3]||c[4],url:c[5]};g.push(j)}return g.length?{mode:"stacktrace",name:b.name||a(b),message:b.message,stack:g}:null}function e(b){var d=b.message.split("\n");if(d.length<4)return null;var e,f,g,h=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,j=/^\s*Line (\d+) of function script\s*$/i,k=[],l=document.getElementsByTagName("script"),m=[];for(f in l)c(l,f)&&!l[f].src&&m.push(l[f]);for(f=2,g=d.length;g>f;f+=2){var n=null;if(e=h.exec(d[f]))n={url:e[2],func:e[3],line:+e[1]};else if(e=i.exec(d[f]))n={url:e[3],func:e[4]};else if(e=j.exec(d[f])){var o=window.location.href.replace(/#.*$/,""),p=e[1];n={url:o,line:p,func:""}}n&&k.push(n)}return k.length?{mode:"multiline",name:b.name||a(b),message:d[0],stack:k}:null}function f(b){return"line"in b?b.sourceURL?{mode:"sourceline",name:b.name||a(b),message:b.message,stack:[{url:b.sourceURL,line:b.line,column:b.column}]}:{mode:"sourceline",name:b.name||a(b),message:b.message,stack:[{func:"evaluated code"}]}:null}function g(b){return b.name||a(b)?{mode:"nameonly",name:b.name||a(b),message:b.message,stack:[]}:null}function h(a){var c=null;try{if(c=d(a))return c.stack.pop(),c}catch(h){if(i)throw h}try{if(c=b(a))return c.stack.pop(),c}catch(h){if(i)throw h}try{if(c=e(a))return c.stack.pop(),c}catch(h){if(i)throw h}try{if(c=f(a))return c}catch(h){if(i)throw h}try{if(c=g(a))return c}catch(h){if(i)throw h}return{mode:"failed"}}var i=!1,j=/function (.+)\(/;return h}()},{}],17:[function(a,b){function c(a){return j(a.exceptionClass)^a.stackHash}function d(a,b){var d=i(a);b||(b=(new Date).getTime());for(var k="",o=0;o<d.stack.length;o++){var p=d.stack[o],q=f(p.func);if(p.func&&p.func.indexOf("nrWrapper")>=0)break;k&&(k+="\n"),q&&(k+=q+"@"),p.url&&(p.url=p.url.split("?")[0],p.url===l.origin&&(p.url="<inline>"),k+=p.url),p.line&&(k+=":"+p.line)}var r={stackHash:j(k),exceptionClass:d.name,request_uri:window.location.pathname};d.message&&(r.message=d.message);var s=h(a.stacktrace||a.stack)||a.sourceURL&&a.sourceURL+":"+a.line+(a.column?":"+a.column:"");if(m[r.stackHash]?r.browser_stack_hash=j(s):(m[r.stackHash]=!0,r.stack_trace=s),document.referrer){var t=g(document.referrer);t&&(r.request_referer=t)}var u=c(r);n[u]||(r.pageview=1,n[u]=!0),e.store("err",u,r,{time:b-l.offset})}var e=a("../../../agent/aggregator"),f=a("./canonical-function-name"),g=a("./clean-url"),h=a("./clean-stack-trace"),i=a("./compute-stack-trace"),j=a("./string-hash-code"),k=a("../../../agent/stringify"),l=("JSON"in window&&JSON.stringify||k,a("loader")),m={},n={},o=a("../../../agent/register-handler"),p=a("../../../agent/harvest");p.include("err"),o("err",d),b.exports=d},{"../../../agent/aggregator":2,"../../../agent/harvest":5,"../../../agent/register-handler":9,"../../../agent/stringify":12,"./canonical-function-name":13,"./clean-stack-trace":14,"./clean-url":15,"./compute-stack-trace":16,"./string-hash-code":18}],18:[function(a,b){function c(a){var b,c=0;if(!a||!a.length)return c;for(var d=0;d<a.length;d++)b=a.charCodeAt(d),c=(c<<5)-c+b,c=0|c;return c}b.exports=c},{}],19:[function(a,b){function c(a,b){a.cat?d.store("xhr",JSON.stringify([a.status,a.cat]),a,b):d.store("xhr",JSON.stringify([a.status,a.host,a.pathname]),a,b)}var d=a("../../../agent/aggregator"),e=a("../../../agent/register-handler"),f=a("../../../agent/harvest");f.include("xhr"),e("xhr",c),b.exports=c},{"../../../agent/aggregator":2,"../../../agent/harvest":5,"../../../agent/register-handler":9}],20:[function(a,b){function c(a){return"function"==typeof a}var d="[object Function]",e=Object.prototype,f=e.toString;c(/x/)&&(c=function(a){return"function"==typeof a&&f.call(a)==d}),b.exports=c},{}],21:[function(a,b){function c(a){var b,c;if(!d(a))throw new TypeError;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}var d=a("lodash.isfunction");b.exports=c},{"lodash.isfunction":20}]},{},[6,17,19]);